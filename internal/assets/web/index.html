<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dendrite File Manager</title>
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/fontawesome-icons.css">
</head>
<body>
    <div id="app">
        <!-- Status Bar -->
        <div id="status-bar">
            <div id="session-info" class="hidden">
                <i class="fa fa-exclamation-triangle session-alert hidden" id="session-alert"></i>
                <i class="fa fa-clock-o"></i>
                <span id="session-text">Session expires in...</span>
            </div>
            <div id="quota-info">
                <span id="quota-text">Loading...</span>
                <div id="quota-bar">
                    <div id="quota-fill"></div>
                </div>
            </div>
        </div>

        <!-- Toolbar -->
        <div id="toolbar">
            <button id="btn-back" title="Back" disabled>‚Üê Back</button>
            <button id="btn-up" title="Up">‚Üë Up</button>
            <button id="btn-refresh" title="Refresh">‚ü≤ Refresh</button>
            <span id="path-display">/</span>
            <div id="toolbar-right">
                <button id="btn-upload" title="Upload Files">üìÅ Upload</button>
                <button id="btn-new-folder" title="New Folder">üìÇ New Folder</button>
                <button id="btn-download" title="Download Selected">üíæ Download</button>
                <button id="btn-download-zip" title="Download Selected as ZIP">üì¶ ZIP</button>
            </div>
        </div>

        <!-- Main Content -->
        <div id="main-content">
            <!-- File List -->
            <div id="file-list-container">
                <table id="file-list">
                    <thead>
                        <tr>
                            <th class="col-select"><input type="checkbox" id="select-all"></th>
                            <th class="col-icon"></th>
                            <th class="col-name" data-sort="name">Name</th>
                            <th class="col-size" data-sort="size">Size</th>
                            <th class="col-type" data-sort="type">Type</th>
                            <th class="col-modified" data-sort="modified">Modified</th>
                        </tr>
                    </thead>
                    <tbody id="file-list-body">
                        <!-- Files will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Context Menu -->
        <div id="context-menu" class="hidden">
            <div class="menu-item" data-action="open">Open</div>
            <div class="menu-item" data-action="edit-modal">Edit (modal)</div>
            <div class="menu-item" data-action="edit-window">Edit (new window)</div>
            <div class="menu-item" data-action="download">Download</div>
            <div class="menu-separator"></div>
            <div class="menu-item" data-action="cut">Cut</div>
            <div class="menu-item" data-action="copy">Copy</div>
            <div class="menu-item" data-action="paste">Paste</div>
            <div class="menu-separator"></div>
            <div class="menu-item" data-action="rename">Rename</div>
            <div class="menu-item" data-action="delete">Delete</div>
            <div class="menu-separator"></div>
            <div class="menu-item" data-action="properties">Properties</div>
        </div>

        <!-- Upload Modal -->
        <div id="upload-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Upload Files</h2>
                <div id="drop-zone">
                    <p>Drag and drop files here or click to select</p>
                    <input type="file" id="file-input" multiple>
                </div>
                <div id="upload-progress" class="hidden">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <span id="upload-status">Uploading...</span>
                </div>
            </div>
        </div>

        <!-- Properties Modal -->
        <div id="properties-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>File Properties</h2>
                <div id="properties-content">
                    <!-- Properties will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading" class="hidden">
            <div class="spinner"></div>
        </div>
        
        <!-- Editor Modal -->
        <div id="editor-modal" class="modal hidden">
            <div class="editor-modal-content">
                <div class="editor-modal-header">
                    <span id="editor-modal-filename"></span>
                    <button class="editor-modal-close">&times;</button>
                </div>
                <iframe id="editor-modal-iframe" src=""></iframe>
            </div>
        </div>
    </div>

    <script src="/js/utils.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/fileicons.js"></script>
    <script src="/js/clipboard.js"></script>
    <script src="/js/ui.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>