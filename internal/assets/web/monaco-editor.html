<!DOCTYPE html>
<html>
<head>
    <title>Dendrite Editor</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; overflow: hidden; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        
        #container { 
            width: 100%; 
            height: 100%; 
            display: flex; 
            flex-direction: column; 
        }
        
        /* Menu bar styling to match file manager */
        #menu-bar { 
            background: linear-gradient(to bottom, #f8f8f8, #e8e8e8);
            border-bottom: 1px solid #d0d0d0;
            padding: 4px 8px;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 13px;
        }
        
        .menu-item { 
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: linear-gradient(to bottom, #f8f8f8, #e8e8e8);
            border: 1px solid #d0d0d0;
            padding: 4px 8px;
            cursor: pointer;
            font-size: 13px;
            color: #000;
            border-radius: 2px;
            transition: all 0.2s;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        
        .menu-item:hover { 
            background: linear-gradient(to bottom, #e8e8ff, #d8d8ff);
            border-color: #0078d4;
        }
        
        .menu-item:active {
            background: linear-gradient(to bottom, #d8d8ff, #c8c8ff);
        }
        
        .menu-item svg {
            width: 14px;
            height: 14px;
            fill: #333;
            flex-shrink: 0;
        }
        
        .menu-item span {
            display: inline-block;
        }
        
        .menu-separator {
            width: 1px;
            height: 20px;
            background: #d0d0d0;
            margin: 0 4px;
        }
        
        #modified-indicator {
            color: #e74c3c;
            font-weight: 500;
            margin-left: 10px;
            font-size: 13px;
        }
        
        #editor-container { 
            flex: 1; 
        }
        
        #status-bar {
            height: 22px;
            background: #007ACC;
            color: white;
            display: flex;
            align-items: center;
            padding: 0 10px;
            font-size: 12px;
        }
        
        .status-item { 
            margin-right: 20px; 
        }
        
        .status-item.right {
            margin-left: auto;
            margin-right: 0;
        }
        
        /* Loading indicator */
        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
            color: #666;
        }
        
        /* Toast notifications */
        .toast {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 13px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .toast.show {
            opacity: 0.9;
        }
        
        .toast.error {
            background: #d32f2f;
        }
        
        .toast.success {
            background: #4caf50;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="menu-bar">
            <button class="menu-item" id="save-btn" title="Save">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.354 1.646a.5.5 0 0 1 0 .708l-1 1a.5.5 0 0 1-.708-.708l1-1a.5.5 0 0 1 .708 0zM2.5 2A1.5 1.5 0 0 0 1 3.5v9A1.5 1.5 0 0 0 2.5 14h11a1.5 1.5 0 0 0 1.5-1.5v-7a.5.5 0 0 0-.146-.354l-3-3A.5.5 0 0 0 11.5 2h-9zM2 3.5a.5.5 0 0 1 .5-.5H4v3.5A1.5 1.5 0 0 0 5.5 8h5A1.5 1.5 0 0 0 12 6.5V3.207l2 2V12.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9zM11 3v3.5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5V3h6z"/>
                </svg>
                <span>Save</span>
            </button>
            <div class="menu-separator"></div>
            <button class="menu-item" id="undo-btn" title="Undo">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.854 2.146a.5.5 0 0 1 0 .708L2.707 4H7.5A4.5 4.5 0 0 1 12 8.5a4.5 4.5 0 0 1-4.5 4.5H5a.5.5 0 0 1 0-1h2.5A3.5 3.5 0 0 0 11 8.5 3.5 3.5 0 0 0 7.5 5H2.707l1.147 1.146a.5.5 0 1 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0z"/>
                </svg>
                <span>Undo</span>
            </button>
            <button class="menu-item" id="redo-btn" title="Redo">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.146 2.146a.5.5 0 0 0 0 .708L13.293 4H8.5A4.5 4.5 0 0 0 4 8.5 4.5 4.5 0 0 0 8.5 13H11a.5.5 0 0 0 0-1H8.5A3.5 3.5 0 0 1 5 8.5 3.5 3.5 0 0 1 8.5 5h4.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2a.5.5 0 0 0-.708 0z"/>
                </svg>
                <span>Redo</span>
            </button>
            <div class="menu-separator"></div>
            <button class="menu-item" id="find-btn" title="Find">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
                <span>Find</span>
            </button>
            <button class="menu-item" id="replace-btn" title="Replace">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.5 1a4.5 4.5 0 0 0-4.5 4.5c0 1.075.38 2.062 1.01 2.833L1.146 12.197a.5.5 0 0 0 .708.707L5.718 9.04A4.471 4.471 0 0 0 8.5 10a4.5 4.5 0 1 0 0-9zm0 1a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7zM2.854 11.854a.5.5 0 0 1-.708 0l-1-1a.5.5 0 0 1 .708-.708l1 1a.5.5 0 0 1 0 .708zM14.146 13.146a.5.5 0 0 1 0 .708l-1 1a.5.5 0 0 1-.708-.708l1-1a.5.5 0 0 1 .708 0zM11 13.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5z"/>
                </svg>
                <span>Replace</span>
            </button>
            <div class="menu-separator"></div>
            <button class="menu-item" id="comment-line-btn" title="Toggle Line Comment">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 2.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
                </svg>
                <span>Comment</span>
            </button>
            <button class="menu-item" id="comment-block-btn" title="Toggle Block Comment">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v8a1.5 1.5 0 0 1-1.5 1.5H7.864a.5.5 0 0 0-.353.146l-2.365 2.365A.5.5 0 0 1 4.5 14.25V12.5a.5.5 0 0 0-.5-.5H2.5A1.5 1.5 0 0 1 1 10.5v-8zM2.5 2a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5H4a1.5 1.5 0 0 1 1.5 1.5v.878l1.646-1.646A1.5 1.5 0 0 1 8.207 11H13.5a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-11z"/>
                </svg>
                <span>Block</span>
            </button>
            <div style="margin-left: auto; display: flex; align-items: center;">
                <span id="modified-indicator"></span>
            </div>
        </div>
        
        <div id="editor-container">
            <div id="loading">Loading editor...</div>
        </div>
        
        <div id="status-bar">
            <span class="status-item" id="cursor-position">Ln 1, Col 1</span>
            <span class="status-item" id="selection-info"></span>
            <span class="status-item" id="file-language">Plain Text</span>
            <span class="status-item right" id="file-path"></span>
        </div>
    </div>
    
    <!-- Monaco Editor from CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/editor/editor.main.css">
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
    <script src="/js/monaco-app.js"></script>
</body>
</html>